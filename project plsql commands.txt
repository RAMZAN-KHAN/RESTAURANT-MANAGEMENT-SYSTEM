
SQL*Plus: Release 11.2.0.2.0 Production on Thu Apr 9 16:02:51 2020

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

SQL> conn system/abc123
Connected.
SQL> create user project_admin_database
  2  identified by admin
  3  default tablespace system
  4  temporary tablespace temp
  5  quota unlimited on system;

User created.

SQL> create user project_user_database
  2  identified by user
  3  default tablespace system
  4  temporary tablespace temp
  5  quota unlimited on system;

User created.

SQL> create role assistant;

Role created.

SQL> grant create table, create session to assistant;

Grant succeeded.

SQL> grant assistant to project_admin_database;

Grant succeeded.

SQL> grant assistant to project_user_database;

Grant succeeded.

SQL> connect project_admin_database/admin
Connected.
SQL> create table pat_table1(id int, name varchar2(50));

Table created.

SQL> insert into pat_table1 values(1,'BIRYANI');

1 row created.

SQL> insert into pat_table1 values(2,'CHINESE');

1 row created.

SQL> grant select on pat_table1 to project_user_database;

Grant succeeded.

SQL> conn project_user_database/user;
Connected.
SQL> select * from project_user_database.pat_table1;
select * from project_user_database.pat_table1
                                    *
ERROR at line 1:
ORA-00942: table or view does not exist


SQL> select * from project_admin_database.pat_table1;

        ID NAME
---------- --------------------------------------------------
         1 BIRYANI
         2 CHINESE

SQL> insert into pat_table1 values(3,'LOLLIPOP');
insert into pat_table1 values(3,'LOLLIPOP')
            *
ERROR at line 1:
ORA-00942: table or view does not exist


SQL> connect project_admin_database/admin
Connected.
SQL> insert into pat_table1 values(3,'LOLLIPOP');

1 row created.

SQL> delete from pat_table1 where id=3;

1 row deleted.

SQL> select * from project_admin_database.pat_table1;

        ID NAME
---------- --------------------------------------------------
         1 BIRYANI
         2 CHINESE

SQL>
SQL> connect project_admin_database/admin
Connected.
SQL> create or replace procedure Add_User_pad(ID IN int, DISH IN varchar2) AS
  2  .
SQL> alter table pat_table1 change name DISH varchar2(30);
alter table pat_table1 change name DISH varchar2(30)
                       *
ERROR at line 1:
ORA-01735: invalid ALTER TABLE option


SQL> alter tableproject_admin_database.pat_table1 change name DISH varchar2(30);
alter tableproject_admin_database.pat_table1 change name DISH varchar2(30)
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


SQL> alter table project_admin_database.pat_table1 change name DISH varchar2(30);
alter table project_admin_database.pat_table1 change name DISH varchar2(30)
                                              *
ERROR at line 1:
ORA-01735: invalid ALTER TABLE option


SQL> create or replace procedure Add_User_pad(ID IN int, NAME IN varchar2) AS
  2  BEGIN
  3     insert into pat_table1 (ID, NAME) values (ID, NAME);
  4  END;
  5  /
create or replace procedure Add_User_pad(ID IN int, NAME IN varchar2) AS
*
ERROR at line 1:
ORA-01031: insufficient privileges


SQL> grant dba to project_admin_database;
grant dba to project_admin_database
*
ERROR at line 1:
ORA-01031: insufficient privileges


SQL> conn system/abc123
Connected.
SQL> grant dba to project_admin_database;

Grant succeeded.

SQL> connect project_admin_database/admin
Connected.
SQL> create or replace procedure Add_User_pad(ID IN int, NAME IN varchar2) AS
  2  BEGIN
  3  insert into pat_table1 (ID, NAME) values (ID, NAME);
  4  /

Warning: Procedure created with compilation errors.

SQL> create or replace procedure Add_User_pad(ID IN int, NAME IN varchar2) AS
  2  BEGIN
  3     insert into pat_table1 (ID, NAME) values (ID, NAME);
  4  END;
  5
  6  /

Procedure created.

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         1 BIRYANI
         2 CHINESE

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         1 BIRYANI
         2 CHINESE
         3 CHICKEN ROLL

SQL> create or replace procedure Add_User_Pad(ID IN int, NAME IN varchar2) AS
  2  BEGIN
  3     insert into pat_table1 (ID, NAME) values (ID, NAME);
  4  END;
  5  /

Procedure created.

SQL> create or replace procedure Remove_User_Pad(I IN number) AS
  2  BEGIN
  3    delete from pat_table1 where ID = I;
  4  END;
  5  /

Procedure created.

SQL> create or replace procedure Update_User_Pad(I IN NUMBER, N IN VARCHAR2) AS
  2  BEGIN
  3     UPDATE pat_table1
  4     SET NAME = N
  5     WHERE ID = I;
  6  END;
  7  /

Procedure created.

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         1 BIRYANI
         2 CHINESE

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         1 BIRYANI
         2 CHICKEN LOLLIPOP

SQL> conn project_user_database;
Enter password:
Connected.
SQL> select * from pat_table1;
select * from pat_table1
              *
ERROR at line 1:
ORA-00942: table or view does not exist


SQL> select * from project_admin_database.pat_table1;

        ID NAME
---------- --------------------------------------------------
         1 BIRYANI
         2 CHICKEN LOLLIPOP

SQL> insert into pat_table1 values(3,CRISPY);
insert into pat_table1 values(3,CRISPY)
            *
ERROR at line 1:
ORA-00942: table or view does not exist


SQL> insert into project_admin_database.pat_table1 values(3,CRISPY);
insert into project_admin_database.pat_table1 values(3,CRISPY)
                                                       *
ERROR at line 1:
ORA-00984: column not allowed here


SQL> insert into project_admin_database.pat_table1 values(3,'CRISPY');
insert into project_admin_database.pat_table1 values(3,'CRISPY')
                                   *
ERROR at line 1:
ORA-01031: insufficient privileges


SQL> delete from pat_table1;
delete from pat_table1
            *
ERROR at line 1:
ORA-00942: table or view does not exist


SQL> conn project_admin_database/admin
Connected.
SQL> delete from pat_table1;

4 rows deleted.

SQL> select * from pat_table1;

no rows selected

SQL> select * from project_admin_database.pat_table1;

no rows selected

SQL> select * from pat_table1;

no rows selected

SQL> select * from project_admin_database.pat_table1;

        ID NAME
---------- --------------------------------------------------
         1 w

SQL> create or replace function sum4
  2  (n1 in number,n2 in number)
  3  return number
  4  is
  5  temp number(8);
  6   begin
  7  temp :=n1+n2;
  8  .
SQL> CREATE OR REPLACE FUNCTION totalDish
  2   RETURN number IS
  3  total number(2) := 0;
  4  BEGIN
  5  SELECT count(*) into total
  6  FROM pat_table1;
  7  RETURN total;
  8   END;
  9  /

Function created.

SQL> CREATE OR REPLACE FUNCTION maxDish
  2  RETURN number IS
  3  m number(2) := 0;
  4  BEGIN
  5  SELECT max(id) into m
  6  FROM pat_table1;
  7  return m;
  8  END;
  9  /

Function created.



SQL*Plus: Release 11.2.0.2.0 Production on Thu Apr 9 23:08:53 2020

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

SQL> conn project_admin_database/admin
Connected.
SQL> create or replace trigger id_update_check1
  2      before update of id on pat_table1
  3      for each row
  4      begin
  5      if :new.id > 100 then
  6      RAISE_APPLICATION_ERROR(-20125,'Updated ID cannot be greater than  100');
  7      end if;
  8      end;
  9      /

Trigger created.

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         4 dmem

         1 w
         2 dan
         3 dsk

SQL> delete from pat_table where id=null;
delete from pat_table where id=null
            *
ERROR at line 1:
ORA-00942: table or view does not exist


SQL> delete from pat_table where name=null;
delete from pat_table where name=null
            *
ERROR at line 1:
ORA-00942: table or view does not exist


SQL> delete from pat_table1 where id=null;

0 rows deleted.

SQL> delete from pat_table1 where name=null;

0 rows deleted.

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         4 dmem

         1 w
         2 dan
         3 dsk

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         4 dmem

         6 dcw
       101 fee
         1 w
         2 dan
         3 dsk

7 rows selected.

SQL> delete from pat_table1 where name='fee';

1 row deleted.

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         4 dmem

         6 dcw
         1 w
         2 dan
         3 dsk

6 rows selected.

SQL> drop triggerid_update_check1;
drop triggerid_update_check1
     *
ERROR at line 1:
ORA-00950: invalid DROP option


SQL> drop trigger id_update_check1;

Trigger dropped.

SQL> create or replace trigger id_modify_check1
  2      before insert or delete or update of id on pat_table1
  3      for each row
  4      begin
  5      if :new.id > 100 then
  6      RAISE_APPLICATION_ERROR(-20125,'Updated ID cannot be greater than  100');
  7      end if;
  8      end;
  9      /

Trigger created.

SQL> select * from pat_table1;

        ID NAME
---------- --------------------------------------------------
         4 dmem

         6 dcw
         1 we
         2 dan
         3 dsk

6 rows selected.

SQL> insert into pat_table1 values(7,'dfswv');

1 row created.

SQL> insert into pat_table1 values(324,'dfswv');
insert into pat_table1 values(324,'dfswv')
            *
ERROR at line 1:
ORA-20125: Updated ID cannot be greater than  100
ORA-06512: at "PROJECT_ADMIN_DATABASE.ID_MODIFY_CHECK1", line 3
ORA-04088: error during execution of trigger
'PROJECT_ADMIN_DATABASE.ID_MODIFY_CHECK1'


SQL> create or replace trigger salary_modify_check2
  2      before insert or delete or update of name on pat_table1
  3      for each row
  4      begin
  5      if :new.name < 2 then
  6      RAISE_APPLICATION_ERROR(-20125,'Name should be 2 or more characters long.');
  7      end if;
  8      end;
  9      /

Trigger created.

SQL>

SQL*Plus: Release 11.2.0.2.0 Production on Thu Apr 9 23:37:45 2020

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

SQL> conn system/abc123
Connected.
SQL> create table c_a(cno int primary key,cname varchar(20),balance float);

Table created.

SQL> insert into c_a values(101, 'RAMZAN', 5000 );

1 row created.

SQL> create table s_a(cno int primary key,cname varchar(20),balance float);

Table created.

SQL> insert into s_a values(101, 'RAMZAN', 5000 );

1 row created.

SQL> select * from c_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     5000

SQL> select * from s_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     5000

SQL> create or replace trigger balance_modify_check1
  2      before insert or update of balance on c_a
  3      for each row
  4      begin
  5      if :new.balance < 1000 then
  6      RAISE_APPLICATION_ERROR(-20125,'Minimum balance should be 1000.');
  7      end if;
  8      end;
  9      /

Trigger created.

SQL> create or replace trigger balance_modify_check2
  2      before insert or update of balance on s_a
  3      for each row
  4      begin
  5      if :new.balance < 1000 then
  6      RAISE_APPLICATION_ERROR(-20125,'Minimum balance should be 1000.');
  7      end if;
  8      end;
  9      /

Trigger created.

SQL> create procedure bln(n int, a float)
  2  begin
  3  update s_a set balance = balance + a where cno = n;
  4  update c_a set balance = balance - a where cno = n;
  5  end;
  6  /

Warning: Procedure created with compilation errors.

SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  bln(nn,aa);
 11  end;
 12  /

PL/SQL procedure successfully completed.

SQL> select * from c_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     5000

SQL> select * from s_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     5000

SQL> call bln(101,2000)
  2  ;
call bln(101,2000)
     *
ERROR at line 1:
ORA-06575: Package or function BLN is in an invalid state


SQL> call bln(101,1000);
call bln(101,1000)
     *
ERROR at line 1:
ORA-06575: Package or function BLN is in an invalid state


SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  .
SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln1(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  nn=101;
 11  aa=2000;
 12  bln(nn,aa);
 13  end;
 14  /
nn=101;
  *
ERROR at line 10:
ORA-06550: line 10, column 3:
PLS-00103: Encountered the symbol "=" when expecting one of the following:
:= . ( @ % ;


SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln2(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  nn := 101;
 11  aa := 2000;
 12  bln(nn,aa);
 13  end;
 14  /
bln(nn,aa);
*
ERROR at line 12:
ORA-06550: line 12, column 1:
PLS-00905: object SYSTEM.BLN is invalid
ORA-06550: line 12, column 1:
PL/SQL: Statement ignored


SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln2(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  nn := 101;
 11  aa := 2000;
 12  bln2(nn,aa);
 13  end;
 14  /

PL/SQL procedure successfully completed.

SQL> select * from c_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     3000

SQL> select * from s_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     7000

SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln3(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  nn := 101;
 11  aa := 2000;
 12  bln3(nn,aa);
 13  end;
 14  /

PL/SQL procedure successfully completed.

SQL> select * from c_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     1000

SQL> select * from s_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     9000

SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln4(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  nn := 101;
 11  aa := 100;
 12  bln3(nn,aa);
 13  end;
 14  /
bln3(nn,aa);
*
ERROR at line 12:
ORA-06550: line 12, column 1:
PLS-00201: identifier 'BLN3' must be declared
ORA-06550: line 12, column 1:
PL/SQL: Statement ignored


SQL>
SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln4(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  nn := 101;
 11  aa := 100;
 12  bln4(nn,aa);
 13  end;
 14  /
declare
*
ERROR at line 1:
ORA-20125: Minimum balance should be 1000.
ORA-06512: at "SYSTEM.BALANCE_MODIFY_CHECK1", line 3
ORA-04088: error during execution of trigger 'SYSTEM.BALANCE_MODIFY_CHECK1'
ORA-06512: at line 7
ORA-06512: at line 12


SQL> select * from c_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     1000

SQL> select * from s_a;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     9000

SQL> declare
  2  nn int;
  3  aa float;
  4  procedure bln5(n int, a float) as
  5  begin
  6  update s_a set balance = balance + a where cno = n;
  7  update c_a set balance = balance - a where cno = n;
  8  end;
  9  begin
 10  nn := 101;
 11  aa := 1000;
 12  bln5(nn,aa);
 13  end;
 14  /
declare
*
ERROR at line 1:
ORA-20125: Minimum balance should be 1000.
ORA-06512: at "SYSTEM.BALANCE_MODIFY_CHECK1", line 3
ORA-04088: error during execution of trigger 'SYSTEM.BALANCE_MODIFY_CHECK1'
ORA-06512: at line 7
ORA-06512: at line 12


SQL> select * from c_A;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     1000

SQL> select * from s_A;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     9000



        declare
        nn int;
        aa float;
        procedure bln_tra1(n int, a float) as
        begin
        SAVEPOINT sp_sp1;
        update owner_table set balance = balance + a where ono = n;
        update customer_table set balance = balance - a where cno = n;
        EXCEPTION
        WHEN OTHERS THEN
        ROLLBACK to sp_sp1;
        RAISE;
        commit;
        end;
        begin
        nn := nn;
        aa := aa;
        bln_tra1(nn,aa);
        end;
        /


        create or replace procedure bln_tra1(n int, a float) as
        begin
        SAVEPOINT sp_sp1;
        update owner_table set balance = balance + a where ono = n;
        update customer_table set balance = balance - a where cno = n;
        EXCEPTION
        WHEN OTHERS THEN
        ROLLBACK to sp_sp1;
        RAISE;
        commit;
        end;
        /


SQL*Plus: Release 11.2.0.2.0 Production on Fri Apr 10 22:34:36 2020

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

SQL> conn project_admin_database/admin;
Connected.
SQL> select * from c_a;
select * from c_a
              *
ERROR at line 1:
ORA-00942: table or view does not exist


SQL> create table customer_table(cno int primary key,cname varchar(20),balance float );

Table created.

SQL> create table owner_table(ono int primary key,oname varchar(20),balance float );

Table created.

SQL> insert into customer_table values(101,'RAMZAN',10000);

1 row created.

SQL> insert into owner_table values(101,'OWNER',2000);

1 row created.

SQL> select * from customer_table;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                    10000

SQL> select * from owner_table;

       ONO ONAME                   BALANCE
---------- -------------------- ----------
       101 OWNER                      2000

SQL> create or replace trigger balance_restriction1
  2          before insert or update of balance on customer_table
  3          for each row
  4          begin
  5          if :new.balance < 1000 then
  6          RAISE_APPLICATION_ERROR(-20125,'Minimum balance should be 1000.');
  7          end if;
  8          end;
  9          /

Trigger created.

SQL> create or replace trigger balance_restriction2
  2          before insert or update of balance on owner_table
  3          for each row
  4          begin
  5          if :new.balance < 1000 then
  6          RAISE_APPLICATION_ERROR(-20125,'Minimum balance should be 1000.');
  7          end if;
  8          end;
  9          /

Trigger created.

SQL> declare
  2          nn int;
  3          aa float;
  4          procedure bln_tra1(n int, a float) as
  5          begin
  6          SAVEPOINT sp_sp1;
  7          update owner_table set balance = balance + a where cno = n;
  8          update customer_table set balance = balance - a where cno = n;
  9          EXCEPTION
 10          WHEN OTHERS THEN
 11          ROLLBACK to sp_sp1;
 12          RAISE;
 13          commit;
 14          end;
 15          begin
 16          nn := nn;
 17          aa := aa;
 18          bln9(nn,aa);
 19          end;
 20          /
        update owner_table set balance = balance + a where cno = n;
                                                           *
ERROR at line 7:
ORA-06550: line 7, column 60:
PL/SQL: ORA-00904: "CNO": invalid identifier
ORA-06550: line 7, column 9:
PL/SQL: SQL Statement ignored
ORA-06550: line 18, column 9:
PLS-00201: identifier 'BLN9' must be declared
ORA-06550: line 18, column 9:
PL/SQL: Statement ignored


SQL>         declare
  2          nn int;
  3          aa float;
  4          procedure bln_tra1(n int, a float) as
  5          begin
  6          SAVEPOINT sp_sp1;
  7          update owner_table set balance = balance + a where cno = n;
  8          update customer_table set balance = balance - a where ono = n;
  9          EXCEPTION
 10          WHEN OTHERS THEN
 11          ROLLBACK to sp_sp1;
 12          RAISE;
 13          commit;
 14          end;
 15          begin
 16          nn := nn;
 17          aa := aa;
 18          bln9(nn,aa);
 19          end;
 20          /
        update owner_table set balance = balance + a where cno = n;
                                                           *
ERROR at line 7:
ORA-06550: line 7, column 60:
PL/SQL: ORA-00904: "CNO": invalid identifier
ORA-06550: line 7, column 9:
PL/SQL: SQL Statement ignored
ORA-06550: line 8, column 63:
PL/SQL: ORA-00904: "ONO": invalid identifier
ORA-06550: line 8, column 9:
PL/SQL: SQL Statement ignored
ORA-06550: line 18, column 9:
PLS-00201: identifier 'BLN9' must be declared
ORA-06550: line 18, column 9:
PL/SQL: Statement ignored


SQL>         declare
  2          nn int;
  3          aa float;
  4          procedure bln_tra1(n int, a float) as
  5          begin
  6          SAVEPOINT sp_sp1;
  7          update owner_table set balance = balance + a where ono = n;
  8          update customer_table set balance = balance - a where cno = n;
  9          EXCEPTION
 10          WHEN OTHERS THEN
 11          ROLLBACK to sp_sp1;
 12          RAISE;
 13          commit;
 14          end;
 15          begin
 16          nn := nn;
 17          aa := aa;
 18          bln9(nn,aa);
 19          end;
 20          /
        bln9(nn,aa);
        *
ERROR at line 18:
ORA-06550: line 18, column 9:
PLS-00201: identifier 'BLN9' must be declared
ORA-06550: line 18, column 9:
PL/SQL: Statement ignored


SQL>         declare
  2          nn int;
  3          aa float;
  4          procedure bln_tra1(n int, a float) as
  5          begin
  6          SAVEPOINT sp_sp1;
  7          update owner_table set balance = balance + a where ono = n;
  8          update customer_table set balance = balance - a where cno = n;
  9          EXCEPTION
 10          WHEN OTHERS THEN
 11          ROLLBACK to sp_sp1;
 12          RAISE;
 13          commit;
 14          end;
 15          begin
 16          nn := nn;
 17          aa := aa;
 18          bln_tra1(nn,aa);
 19          end;
 20          /

PL/SQL procedure successfully completed.

SQL> declare
  2          nn int;
  3          aa float;
  4          procedure bln_tra1(n int, a float) as
  5          begin
  6          SAVEPOINT sp_sp1;
  7          update owner_table set balance = balance + a where ono = n;
  8          update customer_table set balance = balance - a where cno = n;
  9          EXCEPTION
 10          WHEN OTHERS THEN
 11          ROLLBACK to sp_sp1;
 12          RAISE;
 13          commit;
 14          end;
 15          begin
 16          nn := 101;
 17          aa := 1000;
 18          bln_tra1(nn,aa);
 19          end;
 20          /

PL/SQL procedure successfully completed.

SQL>         declare
  2          nn int;
  3          aa float;
  4          procedure bln_tra1(n int, a float) as
  5          begin
  6          SAVEPOINT sp_sp1;
  7          update owner_table set balance = balance + a where ono = n;
  8          update customer_table set balance = balance - a where cno = n;
  9          EXCEPTION
 10          WHEN OTHERS THEN
 11          ROLLBACK to sp_sp1;
 12          RAISE;
 13          commit;
 14          end;
 15          begin
 16          nn := nn;
 17          aa := aa;
 18          bln_tra1(nn,aa);
 19          end;
 20          /

PL/SQL procedure successfully completed.

SQL>
SQL>         create or replace procedure bln_tra2(n int, a float) as
  2          begin
  3          SAVEPOINT sp_sp1;
  4          update owner_table set balance = balance + a where ono = n;
  5          update customer_table set balance = balance - a where cno = n;
  6          EXCEPTION
  7          WHEN OTHERS THEN
  8          ROLLBACK to sp_sp1;
  9          RAISE;
 10          commit;
 11          end;
 12          /

Procedure created.

SQL> drop procedure bln_tra1;
drop procedure bln_tra1
*
ERROR at line 1:
ORA-04043: object BLN_TRA1 does not exist


SQL>         create or replace procedure bln_tra1(n int, a float) as
  2          begin
  3          SAVEPOINT sp_sp1;
  4          update owner_table set balance = balance + a where ono = n;
  5          update customer_table set balance = balance - a where cno = n;
  6          EXCEPTION
  7          WHEN OTHERS THEN
  8          ROLLBACK to sp_sp1;
  9          RAISE;
 10          commit;
 11          end;
 12          /

Procedure created.

SQL> select * from customer_table;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     8800

SQL> select * from owner_table;

       ONO ONAME                   BALANCE
---------- -------------------- ----------
       101 OWNER                      3200

SQL> select * from customer_table;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     8000

SQL> select * from owner_table;

       ONO ONAME                   BALANCE
---------- -------------------- ----------
       101 OWNER                      4000

SQL> select * from customer_table;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     6400

SQL> select * from owner_table;

       ONO ONAME                   BALANCE
---------- -------------------- ----------
       101 OWNER                      5600

SQL> select * from customer_table;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     6100

SQL> select * from owner_table;

       ONO ONAME                   BALANCE
---------- -------------------- ----------
       101 OWNER                      5900

SQL> select * from owner_table;

       ONO ONAME                   BALANCE
---------- -------------------- ----------
       101 OWNER                      5900

SQL> select * from customer_table;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     6100

SQL> select * from customer_table;

       CNO CNAME                   BALANCE
---------- -------------------- ----------
       101 RAMZAN                     5300

SQL> select * from owner_table;

       ONO ONAME                   BALANCE
---------- -------------------- ----------
       101 OWNER                      6700

SQL>